<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sinapse - Mat√©rias</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Estilos atualizados */
    .container {
      padding: 20px;
      min-height: 100vh;
    }

    .materias-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 30px;
    }

    .materia-card {
      background: rgba(0, 0, 0, 0.7);
      border: 2px solid #7c4dff;
      border-radius: 10px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .materia-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(124, 77, 255, 0.4);
    }

    .pdfs-container {
      display: none;
      margin-top: 30px;
    }

    .pdf-list {
      display: grid;
      gap: 10px;
      margin: 20px 0;
    }

    .pdf-item {
      padding: 10px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .pdf-item:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    .download-area {
      border: 2px dashed #7c4dff;
      border-radius: 10px;
      padding: 20px;
      margin-top: 20px;
      min-height: 100px;
    }

    .back-btn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      z-index: 100;
    }
  </style>
</head>
<body>
  <div class="video-background">
    <iframe src="https://player.vimeo.com/video/1072780855?background=1&autoplay=1&loop=1&muted=1&quality=1080p" 
            frameborder="0" 
            allow="autoplay; fullscreen"></iframe>
  </div>

  <div class="container">
    <div class="welcome-container">
      <!-- Conte√∫do din√¢mico -->
      <div id="main-content">
        <h1>Selecione a Mat√©ria</h1>
        <div class="materias-grid">
          <div class="materia-card" onclick="carregarPDFs('Matem√°tica')">
            <h3>üßÆ Matem√°tica</h3>
          </div>
          <div class="materia-card" onclick="carregarPDFs('F√≠sica')">
            <h3>‚öõÔ∏è F√≠sica</h3>
          </div>
          <div class="materia-card" onclick="carregarPDFs('Qu√≠mica')">
            <h3>üß™ Qu√≠mica</h3>
          </div>
        </div>
      </div>

      <!-- Se√ß√£o de PDFs -->
      <div id="pdfs-section" class="pdfs-container">
        <h2 id="pdfs-title"></h2>
        <div class="pdf-list" id="pdf-list"></div>
        <div class="download-area" id="download-area">
          <p>Selecione os PDFs acima para exibir aqui</p>
        </div>
      </div>
    </div>
  </div>

  <button class="back-btn" onclick="window.history.back()">‚Üê Voltar</button>

  <script>
    // Dados simulados (substituir por chamada real ao bot)
    const pdfDatabase = {
      'Matem√°tica': ['Logaritmos.pdf', 'MDC.pdf'],
      'F√≠sica': ['Cinem√°tica.pdf', 'Termodin√¢mica.pdf'],
      'Qu√≠mica': ['Estequiometria.pdf', 'pH.pdf']
    };

    function carregarPDFs(materia) {
      document.getElementById('main-content').style.display = 'none';
      document.getElementById('pdfs-section').style.display = 'block';
      document.getElementById('pdfs-title').textContent = `PDFs de ${materia}`;
      
      const pdfList = document.getElementById('pdf-list');
      pdfList.innerHTML = '';
      
      pdfDatabase[materia].forEach(pdf => {
        const pdfItem = document.createElement('div');
        pdfItem.className = 'pdf-item';
        pdfItem.innerHTML = `
          <input type="checkbox" id="${pdf}" onchange="selecionarPDF('${pdf}')">
          <label for="${pdf}">${pdf.replace('.pdf', '')}</label>
        `;
        pdfList.appendChild(pdfItem);
      });
    }

    function selecionarPDF(pdfNome) {
      const downloadArea = document.getElementById('download-area');
      const pdfLink = document.createElement('a');
      
      // Simula√ß√£o de busca do PDF (implementar comunica√ß√£o com bot)
      pdfLink.href = `https://api.sinapse.com/pdf/${encodeURIComponent(pdfNome)}`;
      pdfLink.target = '_blank';
      pdfLink.className = 'pdf-download';
      pdfLink.innerHTML = `
        üìÑ ${pdfNome} 
        <button onclick="downloadPDF('${pdfNome}')">Baixar</button>
      `;
      
      downloadArea.appendChild(pdfLink);
    }

    async function downloadPDF(pdfNome) {
  try {
    // Substitua pelo seu URL do Ngrok
    const ngrokUrl = "https://5040-2804-14d-78b1-5035-913b-c5c2-deca-cc85.ngrok-free.app";
    const response = await fetch(`${ngrokUrl}/api/get-pdf?name=${pdfNome}`);
    
    // Restante do c√≥digo mantido igual...
  }
}
  </script>
</body>
</html>
