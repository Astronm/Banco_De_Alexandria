<!DOCTYPE html>
<html lang="pt-br">
<head>
  <head>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="video-background">
  </div>

  <!-- Se√ß√£o de mat√©rias (HTML modificado) -->
  <div class="container">
    <h1>Selecione a Mat√©ria</h1>
    
    <div class="materias-grid">
      <div class="telegram-button" onclick="carregarPDFs('Matem√°tica')">
        üßÆ Matem√°tica
      </div>
      <div class="telegram-button" onclick="carregarPDFs('F√≠sica')">
        ‚öõÔ∏è F√≠sica
      </div>
      <div class="telegram-button" onclick="carregarPDFs('Qu√≠mica')">
        üß™ Qu√≠mica
      </div>
    </div>

    <div id="pdfs-section" class="pdfs-container">
      <div id="pdf-list" class="pdf-list"></div>
    </div>

   <button class="telegram-button back-btn" onclick="voltar()">
    <span style="margin-right: 8px;">‚Üê</span> Voltar
   </button>
  </div>

  <!-- ùóîùóóùóúùóñùóúùó¢ùó°ùóò ùó¢ ùó¶ùóñùó•ùóúùó£ùóß ùóîùó§ùó®ùóú ‚Üì -->
  <script>
    // Dados simulados
    const pdfDatabase = {
      'Matem√°tica': ['Logaritmos.pdf', 'MDC.pdf'],
      'F√≠sica': ['Cinem√°tica.pdf', 'Termodin√¢mica.pdf'],
      'Qu√≠mica': ['Estequiometria.pdf', 'pH.pdf']
    };

    function carregarPDFs(materia) {
      const pdfList = document.getElementById('pdf-list');
      pdfList.innerHTML = '';
      
      pdfDatabase[materia].forEach(pdf => {
        const nomeSemExtensao = pdf.replace('.pdf', '');
        pdfList.innerHTML += `
          <button class="telegram-button" onclick="downloadPDF('${pdf}')">
            ${nomeSemExtensao}
          </button>
        `;
      });

      document.getElementById('pdfs-section').style.display = 'block';
    }

    function voltar() {
      document.getElementById('pdfs-section').style.display = 'none';
    }

    async function downloadPDF(pdfNome) {
      try {
        const response = await fetch('https://5040-2804-14d-78b1-5035-913b-c5c2-deca-cc85.ngrok-free.app/api/get-pdf?name=' + pdfNome);
        const blob = await response.blob();
        
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = pdfNome;
        link.click();
      } catch (error) {
        alert('Erro ao baixar. Verifique sua conex√£o.');
      }
    }
  </script>
  <!-- ùóîùóóùóúùóñùóúùó¢ùó°ùóò ùó¢ ùó¶ùóñùó•ùóúùó£ùóß ùóîùó§ùó®ùóú ‚Üë -->

</body>
</html>
